function ajaxTransfer(a,t,e){var n,i;a=baseURL+a,t instanceof FormData||(t=Object.toFormData(t)),i=$("input[name="+csrfParam+"]").val(),t.append(csrfParam,i),showLoading();var o=new XMLHttpRequest;o.open("POST",a,!0),o.onload=function(){n=o.responseText,200===o.status?("string"==typeof e?$(e).html(n):e(n),setInputPlaceholder(),validateRequiredInput()):(console.log("ajax error! status : "+o.status),console.log(o)),hideLoading()},o.send(t)}function modalAlert(a,t){$(".modal-backdrop, #modal-target.modal").remove();var e="";e+="<div aria-hidden='true' aria-labelledby='myModalLabel' role='dialog' tabindex='-1' id='modal-target' class='modal fade' style='display: none;'>",e+="<div class='modal-dialog'>",e+="<div class='modal-content'>",e+="<div class='modal-header'>",e+="<button aria-hidden='true' data-dismiss='modal' class='close' onclick='removeModal(this)' rel='modal-target' type='button'>&#215;</button>",e+="<h4 class='modal-title'>"+a+"</h4>",e+="</div>",e+="<div id='modal-output' class='modal-body'>"+t+"</div>",e+="</div>",e+="</div>",e+="</div>",$("html").append(e),$("#modal-target").modal("show")}function modalConfirm(a,t,e,n){"function"==typeof e&&(fnPositiveButton=e),"function"==typeof n&&(fnNegativeButton=n),$(".modal-backdrop, #modal-target.modal").remove();var i="";i+="<div aria-hidden='true' aria-labelledby='myModalLabel' role='dialog' tabindex='-1' id='modal-target' class='modal fade' style='display: none;'>",i+="<div class='modal-dialog'>",i+="<div class='modal-content'>",i+="<div class='modal-header'>",i+="<button aria-hidden='true' data-dismiss='modal' class='close' onclick='removeModal(this)' rel='modal-target' type='button'>&#215;</button>",i+="<h4 class='modal-title'>"+a+"</h4>",i+="</div>",i+="<div id='modal-output' class='modal-body'>"+t+"<div id='confirm-button-action'><a onclick='negativeButtonClick()' class='btn btn-danger'>Cancel</a><a onclick='positiveButtonClick()' class='btn btn-primary'>Ok</a></div></div>",i+="</div>",i+="</div>",i+="</div>",$("html").append(i),$("#modal-target").modal("show")}function positiveButtonClick(){if("function"!=typeof fnPositiveButton)return!1;fnPositiveButton()}function negativeButtonClick(){"function"!=typeof fnNegativeButton?closeModal():fnNegativeButton()}function loadModal(a){a.setAttribute("href","#modal-target"),a.setAttribute("data-toggle","modal");var t=a.getAttribute("title");null==t&&(t=a.innerHTML),$(".modal-backdrop, #modal-target.modal").remove();var e="";e+="<div aria-hidden='true' aria-labelledby='myModalLabel' role='dialog' tabindex='-1' id='modal-target' class='modal fade' style='display: none;'>",e+="<div class='modal-dialog'>",e+="<div class='modal-content'>",e+="<div class='modal-header'>",e+="<button aria-hidden='true' data-dismiss='modal' class='close' onclick='removeModal(this)' rel='modal-target' type='button'>&#215;</button>",e+="<h4 class='modal-title'>"+t+"</h4>",e+="</div>",e+="<div id='modal-output' class='modal-body'></div>",e+="</div>",e+="</div>",e+="</div>",$("html").append(e);var n=a.getAttribute("data"),i=new FormData,o=a.getAttribute("target");n=null==n?[]:n.split(";");for(var l=0;l<n.length;l++)if(0!=n[l].length){var d=n[l].split("="),r=d[0],s=d[1];i.append(r,s)}ajaxTransfer(o,i,"#modal-output")}function removeModal(a){a.getAttribute("rel");$(".modal, .modal-overlay, .modal-backdrop").animate({opacity:0},modal_delay),setTimeout(function(){$("#modal-target.modal, .modal-overlay, .modal-backdrop").remove(),$("body").removeClass("modal-open")},modal_delay)}function closeModal(a){void 0==a?$(".modal-header .close").click():(a=parseInt(a),setTimeout(function(){$(".modal-header .close").click()},a))}function showLoading(){$("#loading-screen").css({display:"block"}),$("#loading-screen").animate({opacity:"1"},100)}function hideLoading(){$("#loading-screen").animate({opacity:"0"},100),setTimeout(function(){$("#loading-screen").css({display:"none"})},100)}function reload(a){void 0==a?location.reload():(a=parseInt(a),setTimeout(function(){location.reload()},a))}function initiateLoadingBar(){var a="";a+="<div id='loading-screen'>",a+="<div id='loading-box'>",a+="<span>Sedang mengolah data, mohon tunggu...</span>",a+="</div>",a+="</div>",a+="<div id='global-temp'></div>",$(document).ready(function(){$("body").append(a)})}function getFormData(a,t){if("boolean"==typeof t&&t){var e=$("#"+a).serializeArray(),n={};return $.map(e,function(a,t){n[a.name]=a.value}),n}var i,o,l,d,r,s,c,u=new FormData,f=$("#"+a+" input"),m=$("#"+a+" select"),p=$("#"+a+" textarea"),h=["submit","button","reset"];for(i=0;i<f.length;i++)if(l=f[i].getAttribute("type"),d=f[i].getAttribute("name"),r=f[i].value,-1==h.indexOf(l))if("checkbox"==l)f[i].checked||(r=null),u.append(d,r);else if("radio"==l)r=$('input[name="'+d+'"]:checked').val(),u.append(d,r);else if("file"==l)for(c=f[i].files,o=0;o<c.length;o++)s=c[o],u.append(d,s,s.name);else u.append(d,r);for(i=0;i<m.length;i++)d=m[i].getAttribute("name"),r=m[i].value,u.append(d,r);for(i=0;i<p.length;i++)d=p[i].getAttribute("name"),r=p[i].value,u.append(d,r);return u}function setInputPlaceholder(){for(var a,t,e=$("label"),n=0;n<e.length;n++)a=$(e[n]).attr("for"),t=$(e[n]).html(),$(e[n]).parents("form").find("*[name="+a+"]").attr("placeholder",t)}function pipelineDatatable(a,t,e){$.fn.dataTable.pipeline=function(a){var t=$.extend({pages:5,url:"",data:null,method:"POST"},a),e=-1,n=null,i=null,o=null;return function(a,l,d){var r=!1,s=a.start,c=a.start,u=a.length,f=s+u;if(d.clearCache?(r=!0,d.clearCache=!1):e<0||s<e||f>n?r=!0:JSON.stringify(a.order)===JSON.stringify(i.order)&&JSON.stringify(a.columns)===JSON.stringify(i.columns)&&JSON.stringify(a.search)===JSON.stringify(i.search)||(r=!0),i=$.extend(!0,{},a),r){if(s<e&&(s-=u*(t.pages-1))<0&&(s=0),e=s,n=s+u*t.pages,a.start=s,a.length=u*t.pages,$.isFunction(t.data)){var m=t.data(a);m&&$.extend(a,m)}else $.isPlainObject(t.data)&&$.extend(a,t.data);d.jqXHR=$.ajax({type:t.method,url:t.url,data:a,dataType:"json",cache:!1,success:function(a){o=$.extend(!0,{},a),e!=c&&a.data.splice(0,c-e),a.data.splice(u,a.data.length),l(a)}})}else json=$.extend(!0,{},o),json.draw=a.draw,json.data.splice(0,s-e),json.data.splice(u,json.data.length),l(json)}},$.fn.dataTable.Api.register("clearPipeline()",function(){return this.iterator("table",function(a){a.clearCache=!0})}),$(a).append("<tfoot></tfoot>"),$(a+" thead tr").clone().appendTo(a+" tfoot"),$(a+" thead tr").attr("id","head-order"),$(a+" thead tr#head-order th").each(function(){$(this).clone().appendTo(a+" thead tr#head-filter")}),void 0===e&&(e=[]);var n=0;$(a+" thead tr#head-filter th").each(function(){if($(this).addClass("th-filter"),-1==e.indexOf(n)){var a=$(this).text();$(this).html('<input type="text" class="form-control input-sm" placeholder="Search '+a+'" />')}else $(this).html("");n++});var i=0;$(a).DataTable({processing:!0,serverSide:!0,iDisplayLength:25,ajax:$.fn.dataTable.pipeline({url:baseURL+t,pages:5})}).columns().every(function(){var a=this,t=$(this.header()).parent().parent().find("#head-filter th"),e=$(t[i++]).find("input");$(e).on("keyup change",function(){a.search()!==this.value&&a.search(this.value).draw()})}),$(a+" thead tr#head-filter").appendTo("thead"),$(".dataTables_processing").html("")}function dataTable(a,t){$(document).ready(function(){$.fn.dataTableExt.oApi.fnPagingInfo=function(a){return{iStart:a._iDisplayStart,iEnd:a.fnDisplayEnd(),iLength:a._iDisplayLength,iTotal:a.fnRecordsTotal(),iFilteredTotal:a.fnRecordsDisplay(),iPage:Math.ceil(a._iDisplayStart/a._iDisplayLength),iTotalPages:Math.ceil(a.fnRecordsDisplay()/a._iDisplayLength)}},void 0===t&&(t=25),$(a).DataTable({iDisplayLength:t,fnDrawCallback:function(t){var e=this.fnPagingInfo().iPage,n=this.fnPagingInfo().iLength;rearrangeDataTableNumbering(a,e*n+1)}})})}function rearrangeDataTableNumbering(a,t){if("no"==$(a).find("th:first-child").html().toLowerCase())for(var e=$(a).find("tbody tr"),n=0;n<e.length;n++)$(e[n]).find("td:first-child").html(t+n)}function dataTables(a){$(document).ready(function(){$(a).DataTable({iDisplayLength:25,order:[]})})}function setActiveMenu(a){void 0===a&&(a=document.URL),$("li").has('a[href="'+a+'"]').addClass("active")}function validateRequiredInput(){for(var a=$(":required"),t=0;t<a.length;t++)$(a[t]).blur(function(a){var t=a.currentTarget,e=$(t).val(),n=$(t).parent();0==e.length?$(n).addClass("has-error"):$(n).removeClass("has-error")})}function scrollToTop(){$("html, body").animate({scrollTop:0},"slow")}function chevronActive(a){$(".chevron-shapes li").removeClass("active"),$(".chevron-shapes li."+a).addClass("active")}function isValidDate(a){if(!/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(a))return!1;var t=a.split("/"),e=parseInt(t[0],10),n=parseInt(t[1],10),i=parseInt(t[2],10);if(i<1e3||i>3e3||0==n||n>12)return!1;var o=[31,28,31,30,31,30,31,31,30,31,30,31];return(i%400==0||i%100!=0&&i%4==0)&&(o[1]=29),e>0&&e<=o[n-1]}function pad(a,t,e){return e=e||"0",a+="",a.length>=t?a:new Array(t-a.length+1).join(e)+a}function getCsrfToken(){return $("input[name="+csrfParam+"]").val()}var active_modal="",modal_delay=300,baseURL="",fnPositiveButton,fnNegativeButton,csrfParam="_csrf";$(document).ready(function(){setActiveMenu(document.URL),initiateLoadingBar(),setInputPlaceholder(),validateRequiredInput()});